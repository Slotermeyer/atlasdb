apply from: "../gradle/shared.gradle"
apply plugin: 'com.palantir.shadow-jar'
// apply plugin: 'com.github.johnrengelman.shadow'

//versionsLock {
//    disableJavaPluginDefaults()
//}

dependencies {
    implementation ('com.palantir.cassandra:cassandra-thrift') {
        exclude group: 'org.apache.httpcomponents'
    }
    shadeTransitively ('org.apache.thrift:libthrift:0.9.2') {
    }

//  shadow ('com.palantir.cassandra:cassandra-thrift') {
//    exclude group: 'org.apache.httpcomponents'
//  }
}

//shadowJar {
//    classifier ''
//
//    relocate('org.apache.thrift', 'shadowed.org.apache.thrift')
//}
//
//jar.dependsOn shadowJar
//jar.onlyIf { false }
